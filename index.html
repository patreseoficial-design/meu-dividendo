<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Meu Dividendo | A√ß√µes, FIIs e Calculadora Financeira</title>

<link rel="stylesheet" href="css/global.css">
<link rel="stylesheet" href="css/calculadora.css">

<style>
/* OCULTA APENAS O TOPO VISUAL */
.topo,
.profile {
  display: none !important;
  visibility: hidden !important;
  height: 0 !important;
  overflow: hidden !important;
}

/* MENU HAMBURGUER */
#menuBtn {
  display: block !important;
  position: fixed;
  top: 12px;
  left: 12px;
  z-index: 9999;
  font-size: 26px;
  color: #fff;
  cursor: pointer;
}

#menuLinks {
  display: none;
  position: fixed;
  top: 50px;
  left: 12px;
  background: #111;
  padding: 12px;
  border-radius: 10px;
  z-index: 9998;
}

#menuLinks a {
  color: #fff;
  text-decoration: none;
  display: block;
  margin: 6px 0;
}

/* BODY */
body {
  margin: 0;
  background: #000;
  font-family: Arial, sans-serif;
  color: #fff;
}

/* MOEDAS */
.card {
  background:#111;
  padding:12px;
  border-radius:12px;
  text-align:center;
}

/* TICKER */
.ticker-container {
  width: 100%;
  overflow: hidden;
  background: #000;
  margin-top: 30px;
}

.ticker-track {
  display: flex;
  width: max-content;
  animation: scroll 40s linear infinite;
}

.ticker-item {
  padding: 10px 22px;
  white-space: nowrap;
  font-size: 14px;
}

.ticker-item .price {
  color: #4da3ff;
  margin-left: 6px;
}

@keyframes scroll {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}
</style>
</head>

<body>

<!-- MENU -->
<div id="menuBtn" onclick="toggleMenu()">‚ò∞</div>
<nav id="menuLinks">
  <a href="index.html">üè† In√≠cio</a>
  <a href="paginadecalculadoras.html">üìä Calculadoras</a>
  <a href="curso-investimento.html">üéì Curso</a>
</nav>

<script>
function toggleMenu(){
  const m = document.getElementById("menuLinks");
  m.style.display = m.style.display === "block" ? "none" : "block";
}
</script>

<!-- T√çTULO -->
<div style="text-align:center; margin:40px 0;">
  <h2 style="font-size:20px; font-weight:normal;">
    Cota√ß√µes Atualizadas
  </h2>
</div>

<!-- MOEDAS -->
<section id="moedas">
  <div style="display:flex; gap:8px; padding:0 8px;">
    <div class="card"><span id="dolar-value">--</span></div>
    <div class="card"><span id="euro-value">--</span></div>
    <div class="card"><span id="yuans-value">--</span></div>
    <div class="card"><span id="bitcoin-value">--</span></div>
  </div>
</section>

<script>
async function carregarMoedas(){
  try{
    const r = await fetch("https://economia.awesomeapi.com.br/json/last/USD-BRL,EUR-BRL,CNY-BRL,BTC-BRL");
    const d = await r.json();
    dolar-value.innerText = `D√≥lar R$ ${(+d.USDBRL.ask).toFixed(2)}`;
    euro-value.innerText = `Euro R$ ${(+d.EURBRL.ask).toFixed(2)}`;
    yuans-value.innerText = `Yuan R$ ${(+d.CNYBRL.ask).toFixed(2)}`;
    bitcoin-value.innerText = `Bitcoin R$ ${(+d.BTCBRL.ask).toLocaleString("pt-BR")}`;
  }catch{}
}
carregarMoedas();
</script>

<!-- TICKER -->
<div class="ticker-container">
  <div class="ticker-track" id="ticker"></div>
</div>

<script>
const tickers = [
 "CMIG4","BBAS3","CSMG3","PETR4","TAEE11",
 "SANB11","SBSP3","ELET3","EGIE3","CPLE6",
 "ENBR3","VIVT3","TIMS3","BBSE3"
];

async function carregarTicker(){
  const t = document.getElementById("ticker");
  t.innerHTML = "";

  const res = await Promise.allSettled(
    tickers.map(a =>
      fetch(`https://brapi.dev/api/quote/${a}`)
      .then(r=>r.json())
    )
  );

  res.forEach(r=>{
    const a = r.value?.results?.[0];
    if(!a) return;

    const preco =
      a.regularMarketPrice ??
      a.previousClose ??
      a.regularMarketPreviousClose ??
      0;

    const div = document.createElement("div");
    div.className="ticker-item";
    div.innerHTML = `<strong>${a.symbol}</strong>
      <span class="price">R$ ${preco.toFixed(2)}</span>`;
    t.appendChild(div);
  });

  t.innerHTML += t.innerHTML;
}

carregarTicker();
setInterval(carregarTicker, 60000);
</script>

<footer style="text-align:center; padding:20px; font-size:12px; color:#666;">
  ¬© 2026 Meu Dividendo
</footer>

</body>
</html>