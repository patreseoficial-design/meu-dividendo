<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meu Dividendo | A√ß√µes, FIIs e Calculadora Financeira</title>

<link rel="stylesheet" href="css/global.css">
<link rel="stylesheet" href="css/calculadora.css">

<style>
/* ===== A√á√ïES PERENES ===== */
.ticker-container {
  background: #111;
  overflow: hidden;
  white-space: nowrap;
  border-top: 1px solid #222;
  border-bottom: 1px solid #222;
  margin: 30px 0;
}

.ticker-track {
  display: inline-flex;
  align-items: center;
  animation: tickerMove 45s linear infinite;
}

.ticker-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 22px;
  color: #fff;
  font-size: 14px;
  border-right: 1px solid #333;
}

.ticker-item .price {
  color: #00ff88;
  font-weight: bold;
}

@keyframes tickerMove {
  from { transform: translateX(100%); }
  to   { transform: translateX(-100%); }
}
</style>
</head>

<body>

<header class="topo">
  <div id="menuBtn" onclick="toggleMenu()">‚ò∞</div>
  <a href="index.html" class="logo" style="color:#fff;text-decoration:none;">Meu Dividendo</a>
  <div class="profile"></div>

  <nav id="menuLinks" class="menu-links">
    <ul>
      <li><a href="index.html">üè† In√≠cio</a></li>
      <li><a href="paginadecalculadoras.html">Calculadoras</a></li>
      <li><a href="curso-investimento.html">Curso de Investimento</a></li>
    </ul>
  </nav>
</header>

<script>
function toggleMenu() {
  const menu = document.getElementById('menuLinks');
  menu.style.display = menu.style.display === "block" ? "none" : "block";
}
</script>

<div style="text-align:center; margin:40px 0;">
  <h2 style="font-size:20px;font-weight:normal;">Cota√ß√µes Atualizadas</h2>
</div>

<!-- BARRA DE PESQUISA -->
<div style="text-align:center; margin:20px 0;">
<form id="searchForm">
  <input id="searchInput" placeholder="Digite o c√≥digo do ativo (ex: MXRF11)"
    style="padding:8px;width:200px;border-radius:6px;border:1px solid #ccc;">
  <button style="padding:8px 12px;background:#000;color:#fff;border:none;border-radius:6px;">
    Buscar
  </button>
</form>
</div>

<script>
document.getElementById('searchForm').addEventListener('submit', e => {
  e.preventDefault();
  const ativo = searchInput.value.trim().toUpperCase();
  if (ativo) location.href = `detalhes.html?ativo=${ativo}`;
});
</script>

<!-- A√á√ïES PERENES -->
<div class="ticker-container">
  <div class="ticker-track" id="ticker"></div>
</div>

<script>
const ativosPerenes = [
  "CMIG4","BBAS3","CSMG3","PETR4","TAEE11",
  "SANB11","SBSP3","ELET3","EGIE3","CPLE6"
];

async function carregarAtivosPerenes() {
  const track = document.getElementById("ticker");
  track.innerHTML = "";

  try {
    const res = await fetch(
      `https://brapi.dev/api/quote/${ativosPerenes.join(",")}`
    );
    const data = await res.json();

    data.results.forEach(a => {
      const preco = a.regularMarketPrice ?? a.previousClose;
      const div = document.createElement("div");
      div.className = "ticker-item";
      div.innerHTML = `
        <strong>${a.symbol}</strong>
        <span class="price">
          R$ ${preco.toLocaleString("pt-BR",{minimumFractionDigits:2})}
        </span>`;
      track.appendChild(div);
    });

    track.innerHTML += track.innerHTML; // loop cont√≠nuo

  } catch (e) {
    console.error("Erro BRAPI:", e);
  }
}

carregarAtivosPerenes();
setInterval(carregarAtivosPerenes, 60000);
</script>

<footer>
<p>¬© 2026 Meu Dividendo ‚Äî Conte√∫do educativo, n√£o √© recomenda√ß√£o de investimento.</p>
</footer>

</body>
</html>