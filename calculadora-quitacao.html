
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Quita√ß√£o Patrimonial</title>

  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/calculadora.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header>
  <div class="menu" onclick="toggleMenu()">‚ò∞</div>

  <h1 class="site-title">
    <a href="index.html">Meu Dividendo</a>
  </h1>

  <nav id="menuLinks" class="menu-links">
    <ul>
      <li><a href="index.html">In√≠cio</a></li>
      <li><a href="paginadecalculadoras.html">Calculadoras</a></li>
      <li><a href="curso-investimento.html">Curso de Investimento</a></li>
    </ul>
  </nav>
</header>

<p><strong>Calculadora de Quita√ß√£o Patrimonial</strong></p>

<p>
Descubra se vale a pena quitar suas d√≠vidas agora ou continuar pagando.
Veja seu patrim√¥nio l√≠quido real, a economia de juros ao longo do tempo
e receba uma recomenda√ß√£o clara do melhor caminho financeiro.
</p>

<!-- CALCULADORA -->
<div class="calc-box">
  <h2>Calculadora de Quita√ß√£o de Bens</h2>

  <h3>Seus Bens</h3>
  <label>Valor do Im√≥vel (R$)</label>
  <input type="number" id="valorImovel">

  <label>Saldo Devedor do Im√≥vel (R$)</label>
  <input type="number" id="dividaImovel">

  <label>Valor do Ve√≠culo (R$)</label>
  <input type="number" id="valorVeiculo">

  <label>Saldo Devedor do Ve√≠culo (R$)</label>
  <input type="number" id="dividaVeiculo">

  <h3>Sua Renda</h3>
  <label>Sal√°rio Mensal (R$)</label>
  <input type="number" id="salario">

  <h3>D√≠vidas</h3>
  <label>Taxa M√©dia de Juros (% ao ano)</label>
  <input type="number" id="juros">

  <label>Parcelas Mensais Totais (R$)</label>
  <input type="number" id="parcelas">

  <button onclick="calcular()">Analisar Situa√ß√£o</button>

  <!-- RESULTADO -->
  <div id="resultado" class="result"></div>
</div>

<canvas id="grafico" style="max-width:600px;margin:30px auto;"></canvas>

<footer>
  <p>¬© 2026 Meu Dividendo</p>
  <p>Conte√∫do educativo. Resultados s√£o estimativas e n√£o recomenda√ß√£o financeira.</p>
  <p>
    <a href="politica-de-privacidade.html" style="color:#fff; text-decoration:underline;">
      Pol√≠tica de Privacidade
    </a>
  </p>
</footer>

<!-- MENU -->
<script>
function toggleMenu() {
  const menu = document.getElementById('menuLinks');
  menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
}
</script>

<!-- CALCULADORA -->
<script>
let chart; // evita criar v√°rios gr√°ficos

function calcular() {
  const valorImovel = Number(document.getElementById('valorImovel').value) || 0;
  const dividaImovel = Number(document.getElementById('dividaImovel').value) || 0;
  const valorVeiculo = Number(document.getElementById('valorVeiculo').value) || 0;
  const dividaVeiculo = Number(document.getElementById('dividaVeiculo').value) || 0;
  const salario = Number(document.getElementById('salario').value) || 0;
  const juros = Number(document.getElementById('juros').value) / 100 || 0;
  const parcelas = Number(document.getElementById('parcelas').value) || 0;

  if (salario === 0) {
    alert('Informe o sal√°rio mensal.');
    return;
  }

  const bens = valorImovel + valorVeiculo;
  const dividas = dividaImovel + dividaVeiculo;
  const patrimonioLiquido = bens - dividas;
  const comprometimento = parcelas / salario;

  let semaforo, status;

  if (comprometimento > 0.5) {
    semaforo = 'üî¥';
    status = 'Endividamento alto. Quita√ß√µes estrat√©gicas s√£o urgentes.';
  } else if (comprometimento > 0.3) {
    semaforo = 'üü°';
    status = 'Endividamento control√°vel, mas com risco.';
  } else {
    semaforo = 'üü¢';
    status = 'Situa√ß√£o financeira saud√°vel.';
  }

  document.getElementById('resultado').innerHTML = `
    <h3>${semaforo} Diagn√≥stico Financeiro</h3>
    <p><strong>Patrim√¥nio l√≠quido:</strong> R$ ${patrimonioLiquido.toFixed(2)}</p>
    <p><strong>Comprometimento da renda:</strong> ${(comprometimento * 100).toFixed(1)}%</p>
    <p><strong>Status:</strong> ${status}</p>
  `;

  gerarGraficoEconomia(parcelas, juros);
}

function gerarGraficoEconomia(parcelas, juros) {
  const meses = [12, 24, 36, 48, 60];
  const economia = meses.map(m => parcelas * m * juros);

  if (chart) chart.destroy();

  chart = new Chart(document.getElementById('grafico'), {
    type: 'bar',
    data: {
      labels: meses.map(m => m + ' meses'),
      datasets: [{
        label: 'Economia estimada de juros (R$)',
        data: economia
      }]
    }
  });
}
</script>

</body>
</html>