<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meu Dividendo - Pesquisa de Ativos</title>

<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f5f5; color:#333; }
  header { background:#000; color:#fff; padding:16px; text-align:center; font-size:1.2em; }
  #searchContainer { text-align:center; margin:20px; }
  #searchInput { padding:8px; font-size:1em; width:200px; }
  #cards { display:flex; flex-wrap:wrap; gap:12px; justify-content:center; margin:20px; }
  .card { background:#000; color:#fff; padding:16px 24px; border-radius:12px; min-width:140px; text-align:center; }
</style>
</head>
<body>

<header>Meu Dividendo</header>

<div id="searchContainer">
  <input type="text" id="searchInput" placeholder="Digite o código do ativo (ex: VALE3, MXRF11)">
  <button onclick="buscarAtivo()">Buscar</button>
</div>

<div id="cards"></div>

<script>
let acoes = [];
let fiis = [];

// Carrega os JSONs online do GitHub Pages
fetch('https://patreseoficial.github.io/fundamentus-dados/data/acoes.json')
  .then(res => res.json())
  .then(data => acoes = data);

fetch('https://patreseoficial.github.io/fundamentus-dados/data/fiis.json')
  .then(res => res.json())
  .then(data => fiis = data);

function buscarAtivo() {
  const query = document.getElementById('searchInput').value.trim().toUpperCase();
  const cardsDiv = document.getElementById('cards');
  cardsDiv.innerHTML = '';

  if(!query) return alert("Digite um ativo!");

  let ativo = acoes.find(a => a.Papel === query) || fiis.find(f => f.Papel === query);

  if(!ativo) return alert("Ativo não encontrado!");

  // Cria cards para cada campo do JSON
  Object.keys(ativo).forEach(k => {
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `<strong>${k}</strong><br>${ativo[k]}`;
    cardsDiv.appendChild(div);
  });
}
</script>

</body>
</html>