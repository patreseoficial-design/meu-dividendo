<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agente Financeiro Pessoal</title>

  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/calculadora.css">
</head>
<body>

<header>
  <div class="menu" onclick="toggleMenu()">‚ò∞</div>

  <h1 class="site-title">
    <a href="index.html">Meu Dividendo</a>
  </h1>

  <nav id="menuLinks" class="menu-links">
    <ul>
      <li><a href="index.html">In√≠cio</a></li>
      <li><a href="paginadecalculadoras.html">Calculadoras</a></li>
    </ul>
  </nav>
</header>

<h1>Agente Financeiro Pessoal</h1>

<p>
Informe suas d√≠vidas, sal√°rio e gastos mensais.
Esta ferramenta analisa sua situa√ß√£o e indica o melhor caminho
para sair das d√≠vidas com mais seguran√ßa.
</p>

<div class="calc-box">

  <h3>Renda Mensal</h3>
  <label>Sal√°rio (R$)</label>
  <input type="number" id="salario">

  <h3>Gastos Fixos</h3>
  <label>Assinaturas (streaming, apps)</label>
  <input type="number" id="assinaturas">

  <label>Alimenta√ß√£o</label>
  <input type="number" id="alimentacao">

  <label>Outros gastos fixos</label>
  <input type="number" id="fixos">

  <h3>D√≠vidas</h3>
  <div id="listaDividas"></div>

  <button onclick="addDivida()">‚ûï Adicionar D√≠vida</button>
  <button onclick="analisar()">Analisar Situa√ß√£o</button>

  <div id="resultado" class="result"></div>

</div>

<footer>
  <p>¬© 2026 Meu Dividendo</p>
  <p>Conte√∫do educativo. Resultados s√£o estimativas.</p>
</footer>

<!-- MENU -->
<script>
function toggleMenu() {
  const menu = document.getElementById('menuLinks');
  menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
}
</script>

<!-- AGENTE FINANCEIRO -->
<script>
let contador = 0;

function addDivida() {
  contador++;

  const div = document.createElement('div');
  div.className = 'divida-box';
  div.innerHTML = `
    <h4>D√≠vida ${contador}</h4>
    <input placeholder="Nome da d√≠vida">
    <input type="number" placeholder="Valor total (R$)">
    <input type="number" placeholder="Juros (% ao m√™s)">
    <input type="number" placeholder="Parcela mensal (R$)">
  `;
  document.getElementById('listaDividas').appendChild(div);
}

function analisar() {
  const salario = Number(document.getElementById('salario').value) || 0;
  const assinaturas = Number(document.getElementById('assinaturas').value) || 0;
  const alimentacao = Number(document.getElementById('alimentacao').value) || 0;
  const fixos = Number(document.getElementById('fixos').value) || 0;

  if (salario === 0) {
    alert('Informe o sal√°rio.');
    return;
  }

  const gastosFixos = assinaturas + alimentacao + fixos;
  const sobra = salario - gastosFixos;

  const dividasDOM = document.querySelectorAll('.divida-box');
  let dividas = [];

  dividasDOM.forEach(d => {
    const inputs = d.querySelectorAll('input');
    dividas.push({
      nome: inputs[0].value || 'D√≠vida',
      valor: Number(inputs[1].value) || 0,
      juros: Number(inputs[2].value) || 0,
      parcela: Number(inputs[3].value) || 0
    });
  });

  // Ranking: juros + impacto no caixa
  dividas.sort((a, b) => {
    return (b.juros * b.parcela) - (a.juros * a.parcela);
  });

  const comprometimento = gastosFixos / salario;

  let semaforo, status;
  if (comprometimento > 0.7) {
    semaforo = 'üî¥';
    status = 'Situa√ß√£o cr√≠tica. Cortes imediatos s√£o necess√°rios.';
  } else if (comprometimento > 0.5) {
    semaforo = 'üü°';
    status = 'Situa√ß√£o apertada. Aten√ß√£o aos gastos.';
  } else {
    semaforo = 'üü¢';
    status = 'Situa√ß√£o controlada.';
  }

  let recomendacoes = [];

  if (assinaturas > salario * 0.1) {
    recomendacoes.push('Corte assinaturas pouco utilizadas.');
  }

  if (alimentacao > salario * 0.3) {
    recomendacoes.push('Reduza gastos com mercado: marcas alternativas e compras fora do pico.');
  }

  if (dividas.length > 0) {
    recomendacoes.push(`Priorize quitar primeiro: <strong>${dividas[0].nome}</strong> (juros mais impactantes).`);
  }

  document.getElementById('resultado').innerHTML = `
    <h3>${semaforo} Diagn√≥stico Financeiro</h3>

    <p><strong>Sobra mensal:</strong> R$ ${sobra.toFixed(2)}</p>
    <p><strong>Status:</strong> ${status}</p>

    <h4>Ordem recomendada para quitar d√≠vidas:</h4>
    <ol>
      ${dividas.map(d => `<li>${d.nome} ‚Äì Juros: ${d.juros}%</li>`).join('')}
    </ol>

    <h4>Plano de a√ß√£o:</h4>
    <ul>
      ${recomendacoes.map(r => `<li>${r}</li>`).join('')}
    </ul>
  `;
}
</script>

</body>
</html>