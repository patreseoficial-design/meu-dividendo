<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Juros Compostos - Meu Dividendo</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:#fff;
  color:#000;
}

header{
  background:#111;
  height:4cm;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
}

header h1{
  margin:0;
  font-size:28px;
  flex:1;
  text-align:center;
}

.menu{ font-size:28px; cursor:pointer; }
.profile{
  width:40px;
  height:40px;
  border-radius:50%;
  background:#555;
}

.container{
  max-width:900px;
  margin:30px auto;
  padding:20px;
}

h2{
  text-align:center;
  margin-bottom:25px;
}

.explain{
  font-size:15px;
  line-height:1.6;
  margin-bottom:20px;
}

.banner{
  background:#eee;
  height:80px;
  margin:20px 0;
  text-align:center;
  line-height:80px;
  font-weight:bold;
}

/* üßÆ FORM MELHORADO */
.form-box{
  border:2px solid #000;
  border-radius:10px;
  padding:20px;
  max-width:600px;
  margin:0 auto;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
}

.form-box label{
  font-size:14px;
  font-weight:bold;
}

.form-box input,
.form-box select{
  width:100%;
  height:42px;
  font-size:15px;
  padding:0 8px;
  border:1px solid #000;
  border-radius:6px;
}

.form-box .full{
  grid-column:1 / -1;
}

.form-box button{
  width:100%;
  height:45px;
  font-size:17px;
  background:#111;
  color:#fff;
  border:none;
  cursor:pointer;
}

/* RESULTADOS */
.resultado-final{
  text-align:center;
  font-size:24px;
  font-weight:bold;
  margin-top:30px;
}

.tabela{
  width:100%;
  border-collapse:collapse;
  margin-top:25px;
  font-size:14px;
}

.tabela th, .tabela td{
  border:1px solid #ccc;
  padding:6px;
  text-align:center;
}

.tabela th{
  background:#111;
  color:#fff;
}

.grafico-box{
  margin-top:40px;
}
</style>
</head>

<body>

<header>
  <div class="menu" onclick="history.back()">‚Üê</div>
  <h1>Meu Dividendo</h1>
  <div class="profile"></div>
</header>

<div class="container">

<h2>Calculadora de Juros Compostos</h2>

<div class="explain">
<strong>O que √© a Calculadora de Juros Compostos?</strong><br>
√â uma ferramenta que ajuda a saber aproximadamente* quanto render√° um investimento,
considerando o efeito dos juros compostos (juros sobre juros).
</div>

<div class="banner">Banner de propaganda</div>

<div class="explain">
*Os valores s√£o estimativas e podem variar conforme taxas e condi√ß√µes de mercado.
</div>

<!-- FORM -->
<div class="form-box">
  <div>
    <label>Valor inicial (R$)</label>
    <input id="valorInicial" type="number" value="1000">
  </div>

  <div>
    <label>Taxa mensal (%)</label>
    <input id="taxa" type="number" step="0.01" value="1">
  </div>

  <div>
    <label>Per√≠odo</label>
    <input id="tempo" type="number" value="12">
  </div>

  <div>
    <label>Tipo</label>
    <select id="tipoTempo">
      <option value="meses">Meses</option>
      <option value="anos">Anos</option>
    </select>
  </div>

  <div class="full">
    <button onclick="calcular()">Calcular</button>
  </div>
</div>

<div id="resultado"></div>

<div class="grafico-box">
  <canvas id="grafico"></canvas>
</div>

<div class="banner">Banner de propaganda</div>

</div>

<script>
let chart;

function calcular(){
  const inicial = Number(valorInicial.value);
  const taxa = Number(taxa.value)/100;
  let meses = Number(tempo.value);
  if(tipoTempo.value==='anos') meses*=12;

  let saldoReinvest = inicial;
  let jurosFixos = inicial * taxa;

  let labels=[], dadosReinvest=[], dadosSem=[];
  let tabela=`
  <table class="tabela">
    <tr>
      <th>M√™s</th>
      <th>Juros no m√™s (Reinvestindo)</th>
      <th>Juros no m√™s (Sem reinvestir)</th>
    </tr>`;

  for(let i=1;i<=meses;i++){
    const jurosMes = saldoReinvest * taxa;
    saldoReinvest += jurosMes;

    labels.push(i);
    dadosReinvest.push(jurosMes.toFixed(2));
    dadosSem.push(jurosFixos.toFixed(2));

    tabela+=`
    <tr>
      <td>${i}</td>
      <td>R$ ${jurosMes.toFixed(2)}</td>
      <td>R$ ${jurosFixos.toFixed(2)}</td>
    </tr>`;
  }

  tabela+='</table>';

  resultado.innerHTML=`
    <div class="resultado-final">
      Total com reinvestimento: R$ ${saldoReinvest.toFixed(2)}
    </div>
    ${tabela}
  `;

  if(chart) chart.destroy();

  chart=new Chart(grafico,{
    type:'line',
    data:{
      labels,
      datasets:[
        {label:'Juros Reinvestindo', data:dadosReinvest, borderWidth:3, tension:.3},
        {label:'Juros Sem Reinvestir', data:dadosSem, borderWidth:3, tension:.3}
      ]
    },
    options:{
      animation:{duration:1200},
      plugins:{legend:{position:'bottom'}}
    }
  });
}
</script>

</body>
</html>